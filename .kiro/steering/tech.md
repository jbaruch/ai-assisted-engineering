---
inclusion: always
---

# Technology Stack & Build System

## Core Technology Constraints

**CRITICAL**: This is a vanilla JavaScript project with zero framework dependencies.

- NEVER suggest React, Vue, Angular, or any external libraries that require build steps
- NEVER use npm/yarn for dependencies - only Bun for development tools like http-server
- All code must run directly in browsers without build steps or transpilation

### Required Tech Stack

- **HTML5**: Semantic markup with accessibility (ARIA labels, proper heading hierarchy, landmark roles)
- **CSS3**: Modern features only - Grid, Flexbox, custom properties, animations, no preprocessors
- **Vanilla JavaScript**: ES6+ syntax (const/let, arrow functions, template literals, modules)
- **YouTube API**: oEmbed and iframe embedding only (no API keys required)

## Build System Rules

### Makefile Commands (MANDATORY)

**ALWAYS use these exact commands - never run underlying tools directly:**

```bash
make serve    # Start development server (REQUIRED for testing)
make config   # Regenerate config.js from urls.txt (REQUIRED after URL changes)
make test     # Run test suite
make test     # Run all tests before commits
make deploy   # Deploy to GitHub Pages
make clean    # Clean generated files
```

**Server options** (in priority order):

1. `bun x http-server` (preferred - auto-installs)
2. Python's `http.server`
3. PHP's built-in server

**CRITICAL WORKFLOW**:

1. Edit `urls.txt` to add/remove YouTube URLs
2. Run `make config` to regenerate `config.js`
3. Run `make serve` to test changes locally
4. Never edit `config.js` manually - it will be overwritten

### Development Server Priority

1. `npx http-server` (preferred - auto-installs)
2. `python3 -m http.server 8000` (fallback)
3. `php -S localhost:8000` (fallback)

## Configuration Architecture

### Auto-Generated Files (NEVER EDIT MANUALLY)

- **`config.js`**: Generated by `make config` from `urls.txt`
  - Contains YouTube metadata, thumbnails, descriptions
  - Handles rate limiting and API failures gracefully
  - Editing manually will break the build system

### Manual Configuration Files (Safe to Edit)

- **`events-config.js`**: Conference events, dates, locations, links
- **`site-config.js`**: All site text, navigation, SEO metadata, hero content
- **`urls.txt`**: YouTube URLs only - one per line, no other content

### File Modification Rules

**NEVER EDIT**: `config.js`, `.history/*` files
**EDIT WITH CAUTION**: `script.js`, `styles.css`, `index.html` (test thoroughly)
**SAFE TO EDIT**: `*-config.js` files (except config.js), `urls.txt`, documentation

## Code Style Requirements

### JavaScript Patterns (MANDATORY)

- **Variables**: Use `const` by default, `let` when reassignment needed, NEVER `var`
- **Functions**: Named function declarations: `function initializeGallery() {}`
- **Event Handling**: `addEventListener` with named functions, never inline handlers
- **Error Handling**: Wrap DOM operations and API calls in `try-catch` blocks
- **Module Pattern**: Use IIFE `(function() { ... })()` for namespace isolation
- **DOM Queries**: Cache elements in variables, avoid repeated `querySelector` calls

### CSS Architecture (MANDATORY)

- **Custom Properties**: Define all colors, spacing, breakpoints in `:root`
- **Naming Convention**: BEM-inspired `.component__element--modifier`
- **Responsive Design**: Mobile-first with `min-width` media queries only
- **Performance**: Use `transform` and `opacity` for animations, avoid layout thrashing
- **No Preprocessors**: Write vanilla CSS3, no Sass/Less/PostCSS

### Performance Requirements (NON-NEGOTIABLE)

- **Lazy Loading**: Use Intersection Observer for images and videos
- **DOM Caching**: Store DOM queries in variables, reuse references
- **Event Delegation**: Attach listeners to parent elements for dynamic content
- **Animation Performance**: Use `will-change` sparingly, prefer `transform`/`opacity`
- **No External Dependencies**: No CDN links, no external fonts, no analytics

## Deployment Constraints

- **GitHub Pages**: Static files only, no server-side processing
- **Custom Domain**: Use CNAME file for custom domains
- **HTTPS**: Required for YouTube embeds and modern features
- **Browser Support**: Modern browsers with ES6+ support assumed
